apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: rustmq-base
  annotations:
    config.kubernetes.io/description: "RustMQ base Kubernetes manifests"

namespace: rustmq

resources:
- namespace.yaml
- serviceaccount.yaml
- configmap.yaml
- networkpolicy.yaml
- controller/statefulset.yaml
- controller/service.yaml
- broker/deployment.yaml
- broker/service.yaml
- broker/hpa.yaml
- admin-server/deployment.yaml
- admin-server/service.yaml

commonLabels:
  app.kubernetes.io/name: rustmq
  app.kubernetes.io/managed-by: kustomize

images:
- name: us-docker.pkg.dev/PROJECT_ID/rustmq/rustmq-controller
  newTag: latest
- name: us-docker.pkg.dev/PROJECT_ID/rustmq/rustmq-broker
  newTag: latest
- name: us-docker.pkg.dev/PROJECT_ID/rustmq/rustmq-admin-server
  newTag: latest
